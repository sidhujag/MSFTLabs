{
  "$schema": "https://raw.githubusercontent.com/Azure/azure-devtestlab/master/schemas/2015-01-01/dtlArtifacts.json",
  "title": "Add Eris Node Linux",
  "description": "Add an Linux based Eris node to existing network in the Lab",
  "tags": [
    "Bash",
    "Linux"
  ],
  "iconUri": "",
  "targetOsType": "Linux",
  "parameters": {
    "adminUserName": {
      "type": "string",
      "displayName": "Admin User Account",
      "description": "Needs to be the same account name for the host",
      "allowEmpty": false
    },
    "servicesToStart": {
      "type": "string",
      "displayName": "Services to Start",
      "description": "Needs to be the same account name for the host",
      "allowEmpty": false
    },
    "chainsToStart": {
      "type": "string",
      "displayName": "Chains to Start",
      "description": "Needs to be the same account name for the host",
      "allowEmpty": false
    }
  },
  "runAzureVMExtension": {
    "publisher": "Microsoft.OSTCExtensions",
    "type": "CustomScriptForLinux",
    "typeHandlerVersion": "1.3",
    "settings": {
      "fileUris": "https://raw.githubusercontent.com/eris-ltd/common/master/cloud/setup/setup.sh",
      "commandToExecute": "[concat('bash setup.sh ', parameters('adminUsername'), ' ', parameters('servicesToStart'), ' ', parameters('chainsToStart'))]"
    }
  }
}

